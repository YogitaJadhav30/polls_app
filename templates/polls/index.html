<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">   
</head>
<body>
    <div id="A">
        <h2>WELCOME TO POLLS APPLICATION</h2>
    </div><br>
    {% load static %}
    <div id="B">
        <h3>Choose a Question You Want To Vote</h3>
    </div>

    <link rel="stylesheet" href="{% static 'polls/style.css' %}">
    
    {% if latest_question_list %}
      <table class="table table-success table-bordered w-75 ms-3">
        <thead>
            <tr>
        <th>Sr No.</th>
        <th>Question's ID</th>
        <th>List OF Questions</th>
        <th>Actions</th>
    </tr>
    </thead>
    <tbody>
        
        {% for question in latest_question_list %}
        <tr>
        <td>{{ forloop.counter }}</td>
        <td>{{ question.id }}</td>
        <td><a href="{% url 'polls:detail' question.id %}">{{ question.question_text }}</a></td>
        <td><a href="{% url 'polls:delete_items' question.id %}"><button type="button" class="btn btn-danger"><i class="bi bi-trash"></i></button></a>
            <a href="{% url 'polls:update_items' question.id %}"><button type="button" class="btn btn-success"><i class="bi bi-pen"></i></button></a></td>
        <!-- <td><button type="button" class="btn btn-danger" data-bs-toggle="modal" data-bs-target="#deleteModal"
            onclick="confirmDeleteModal()">Delete Item</button>
    
        <div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel"
            aria-hidden="true">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="deleteModalLabel">Confirm Deletion</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        Are you sure you want to delete this {{ question.question_text }}?
                    </div>
                   
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                        <a href="#"><button type="button" class="btn btn-danger" id="confirmDelete">Delete</button></a>
                    </div>
                </div>
            </div>
        </div></a></td><br> -->
    </tr>
    {% endfor %}
   
</tbody>
</table>
       
       
        
     
    {% else %}
        <p>No polls are available.</p>
    {% endif %}  
    <div class="C">
        <a href="{% url 'polls:form' %}"><button class="btn btn-primary ms-5 w-100">Add New Question</button></a>
     
    </div>

<!-- Jquery part for delete confirmation -->
    <!-- <script>
const key=question.id;
function confirmDeleteModal(itemId) {
   
    $("#deleteModal .modal-body").text("Are you sure you want to delete this item" + itemId + "?");

    
    $("#confirmDelete").off("click").on("click", function () {
       
        // console.log("Deleting item ID: " + itemId);

        
        var deleteModal = bootstrap.Modal.getInstance(document.getElementById("deleteModal"));
        deleteModal.hide();
    });
}
    </script> -->

    </body>
</html>


























